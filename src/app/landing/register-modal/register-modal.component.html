<nz-modal (nzOnCancel)="onCancel()"
          [(nzVisible)]="isActive"
          [nzCloseIcon]="empty"
          [nzContent]="modalContent"
          [nzFooter]="modalFooter"
          [nzTitle]="modalTitle"
          nzClassName="common-modal register-modal">
</nz-modal>

<ng-template #modalTitle>
  <div class="go-back" (click)="onBackClick()">
    <img alt="back" src="assets/img/back.svg" class="modal__go-back-img">
    <div class="modal__go-back">Go back</div>
  </div>
</ng-template>

<ng-template #modalContent>
  <div class="common-modal__header reg-modal__header">Register your personal account</div>
  <div class="common-modal__sub-header">For the purpose of industry regulation, your details are required.</div>
  <form (submit)="submitForm()" [formGroup]="form" class="reg-modal__form" nz-form>
    <nz-form-item class="common-modal__item">
      <div class="common-modal__field-title">Your email address*</div>
      <nz-form-control nzHasFeedback nzErrorTip="Неверный формат почты" class="common-modal__field-control">
        <label><input placeholder="Email" class="common-modal__input" formControlName="email" nz-input type="text"
                      (keydown.enter)="onEmailEntered($event)"
        ></label>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="common-modal__item">
      <div class="common-modal__field-title">Your nickname*</div>
      <nz-form-control class="common-modal__field-control" nzHasFeedback nzErrorTip="Мин. 8, макс. 16">
        <label><input placeholder="Nickname" #nickname class="common-modal__input" formControlName="username" nz-input type="text"
                      (keydown.enter)="onNickNameEntered($event)"
        ></label>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="common-modal__item">
      <div class="common-modal__field-title">Your password*</div>
      <nz-form-control class="common-modal__field-control" nzHasFeedback nzErrorTip="Мин. 8, макс. 16">
        <label><input placeholder="Password" #password class="common-modal__input" formControlName="password" nz-input
                      type="password"
                      (keydown.enter)="onPasswordEntered($event)"
        ></label>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="common-modal__item">
      <div class="common-modal__field-title">Repeat the password*</div>
      <nz-form-control class="common-modal__field-control" nzHasFeedback nzErrorTip="Пароли не совпадают">
        <label><input placeholder="Repeat password" #confirm class="common-modal__input" formControlName="confirm" nz-input
                      type="password" id="confirm"
                      (keydown.enter)="onConfirmEntered($event)"
        ></label>
      </nz-form-control>
    </nz-form-item>
    <button [disabled]="isSubmitDisabled || form.invalid"
            class="common-button common-modal__submit" type="submit">Отправить
    </button>
  </form>
</ng-template>

<ng-template #modalFooter></ng-template>
<ng-template #empty></ng-template>
